# Apache Ivy<2.5.2 存在XXE漏洞 (CVE-2022-46751)
<figure class="wp-block-table">
    <table>
        <tbody>
        <tr>
            <td><strong>漏洞类型</strong></td>
            <td>输入验证不恰当</td>
            <td><strong>发现时间</strong></td>
            <td>2023-08-21</td>
            <td><strong>漏洞等级</strong></td>
            <td>中危</td>
        </tr>
        <tr>
            <td><strong>MPS编号</strong></td>
            <td><a href="https://www.oscs1024.com/hd/MPS-2022-67125">MPS-2022-67125</a></td>
            <td><strong>CVE编号</strong></td>
            <td>CVE-2022-46751</td>
            <td><strong>漏洞影响广度</strong></td>
            <td>极小</td>
        </tr>
        </tbody>
    </table>
</figure>


<figure class="wp-block-table">
    <h1 class="wp-block-heading">漏洞危害</h1>
    <table>
        <tbody>
        <tr>
            <td><strong>OSCS 描述</strong></td>
        </tr>
        <tr>
            <td>Apache Ivy 是一个管理基于 ANT 项目依赖关系的开源工具，文档类型定义(DTD)是一种文档类型定义语言,它用于定义XML文档中所包含的元素以及元素之间的关系。
Apache Ivy 2.5.2之前版本中，当解析自身配置、Ivy 文件或 Apache Maven 的 POM 文件时允许下载外部DTD并加载其中包含的任何实体引用，当 Apache Ivy 解析的XML文件由攻击者可控时，攻击者可利用 XXE 获取目标主机上 Apache Ivy 有权访问的任意文件。<br><em>参考链接：<a
                    href="https://www.oscs1024.com/hd/MPS-2022-67125">https://www.oscs1024.com/hd/MPS-2022-67125</a></em>
            </td>
        </tr>
        </tbody>
    </table>
</figure>


<figure class="wp-block-table alignleft">
    <h1 class="wp-block-heading">影响范围及处置方案</h1>
    <h2 class="wp-block-heading"><strong>OSCS</strong> <strong>平台影响范围和处置方案</strong></h2>
    <table>
        <tbody>
        <tr>
            <td>影响范围</td>
            <td>处置方式</td>
            <td>处置方法</td>
        </tr>
        <tr><td rowspan="3">org.apache.ivy:ivy [2.0.0-beta1, 2.5.2)</td><td>更新</td><td>升级org.apache.ivy:ivy到 2.5.2 或更高版本</td></tr><tr><td>缓解措施</td><td>将 javax.xml.accessExternalDTD 设置成空字符串禁止外部实体引用的访问，具体请参考：https://docs.oracle.com/en/java/javase/13/docs/api/java.xml/javax/xml/XMLConstants.html#ACCESS_EXTERNAL_DTD</td></tr><tr><td>补丁</td><td>官方已发布补丁：https://github.com/apache/ant-ivy/commit/2be17bc18b0e1d4123007d579e43ba1a4b6fab3d</td></tr>
        <tr>
            <td colspan="3"><em>参考链接：</em><em><a
                    href="https://www.oscs1024.com/hd/MPS-2022-67125">https://www.oscs1024.com/hd/MPS-2022-67125</a></em></td>
        </tr>
        </tbody>
    </table>
</figure>


<figure class="wp-block-table">
    <h1 class="wp-block-heading">排查方式</h1>
    <table>
        <tbody>
        <tr>
            <td><strong>方式1：使用漏洞检测CLI工具来排查</strong><em>使用文档：<a
                    href="https://www.murphysec.com/docs/faqs/integration/cli.html">https://www.murphysec.com/docs/faqs/integration/cli.html</a></em>
            </td>
        </tr>
        <tr>
            <td><strong>方式2：使用漏洞检测IDEA插件排查</strong><em>使用文档：<a
                    href="https://www.murphysec.com/docs/faqs/integration/jetbrains-ide-plugin.html">https://www.murphysec.com/docs/faqs/integration/jetbrains-ide-plugin.html</a></em>
            </td>
        </tr>
        <tr>
            <td><strong>方式3：接入GitLab进行漏洞检测排查</strong><em>使用文档：<a
                    href="https://www.murphysec.com/docs/faqs/integration/gitlab.html">https://www.murphysec.com/docs/faqs/integration/gitlab.html</a></em>
            </td>
        </tr>
        <tr>
            <td><strong>更多排查方式：</strong><em><a
                    href="https://www.murphysec.com/docs/faqs/integration/">https://www.murphysec.com/docs/faqs/integration/</a></em>
            </td>
        </tr>
        </tbody>
    </table>
</figure>